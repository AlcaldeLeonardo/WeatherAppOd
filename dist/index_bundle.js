(()=>{"use strict";const e=e=>document.querySelector(e);class t{static getUrl=e=>`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${e}?key=CPV3DEH2PTTNNPF98ZN2AWA76`}class n{static body=e("body")}function a(e){const{body:t}=n;t.appendChild(e)}const c=e=>{const t=document.createElement("div");return t.className="infoCard__todaySection todaySection",t.appendChild((e=>{const t=document.createElement("div"),n=document.createElement("img"),a=document.createElement("p"),c=document.createElement("p"),i=document.createElement("p");return t.className="principalPanel todaySection__principalPanel",n.src=`./img/icons/${e.icon}.svg`,n.className="principalPanel__icon",t.appendChild(n),a.innerHTML=`<span class = "temp__unit" >${e.temp}</span>Â°`,a.className="principalPanel__temp",t.appendChild(a),c.innerHTML=`Feels like: <span class = "temp__unit" >${e.feelslike}</span>Â°`,c.className="principalPanel__feelsLike",t.appendChild(c),i.textContent=e.conditions,i.className="principalPanel__currentConditions",t.appendChild(i),t})(e)),t.appendChild((e=>{const{humidity:t,windspeed:n,winddir:a}=e,c=document.createElement("div"),i=document.createElement("p"),o=document.createElement("p");var s;return c.className="secondaryPanel todaySection__secondaryPanel",i.textContent=`Humidity: ${t}%`,c.appendChild(i),o.textContent=`WindSpeed: ${s=a,["N","NNE","NE","ENE","W","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.floor((s+11.25)/22.5)%16]} ${parseFloat(1.609*n).toFixed(1)} kph `,c.appendChild(o),c})(e)),t},i=(e="h1",t,n)=>{const a=document.createElement(e);return a.className=t,a.textContent=n,a};class o{static isCelsius=!1}const s=(e,t="dayWeek")=>{const n=new Date(e);if("MM-DD"===t){const e=n.getUTCMonth()+1,t=n.getUTCDate();return`${e<10?`0${e}`:e}-${t<10?`0${t}`:t}`}if("dayWeek"===t)return["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"][n.getUTCDay()]},d=e=>{const t=document.createElement("div");return t.className="weekInfoSection__weekDayDiv weekDayDiv",t.appendChild(r(e)),t.appendChild(l(e)),t.appendChild(m(e)),t.appendChild(p(e)),t.appendChild(u(e)),t},r=e=>{const{datetime:t}=e,n=document.createElement("div");n.className="weekInfoSection__date date";const a=document.createElement("p");a.className="weekDayDiv__day day";const c=document.createElement("p");return c.className="weekDayDiv__dateNum dayNum",a.textContent=s(t),c.textContent=s(t,"MM-DD"),n.appendChild(a),n.appendChild(c),n},l=e=>{const{icon:t}=e,n=document.createElement("img");return n.src=`./img/icons/${t}.svg`,n.className="weekInfoSection__weekDayIcon weekDayIcon",n},m=e=>{const{tempmax:t,tempmin:n}=e,a=document.createElement("div"),c=document.createElement("span"),i=document.createElement("span");return c.innerHTML=`<span class="temp__unit">${t}</span>Â°`,c.className="weekInfoSection__tempMax tempMax",i.innerHTML=`<span class="temp__unit">${n}</span>Â°`,i.className="weekInfoSection__tempMin tempMin",a.className="weekInfoSection__tempInfo tempInfo",a.appendChild(c),a.appendChild(i),a},p=e=>{const{description:t}=e,n=document.createElement("div"),a=document.createElement("p");return n.className="weekInfoSection__descriptionDiv descriptionDiv",a.className="descriptionDiv__text",a.textContent=t,n.appendChild(a),n},u=e=>{const{humidity:t}=e,n=document.createElement("p");return n.className="weekInfoSection__humidity humidity",n.textContent=`ðŸ’§ ${t}%`,n},C=()=>{const n=document.createElement("div");return n.className="locationDiv",n.append((()=>{const e=document.createElement("input");return e.type="text",e.id="entryLocation",e.className="location form__location",e.placeholder="Enter your city",e.required=!0,e})()),n.append((()=>{const n=document.createElement("input");return n.type="submit",n.className="submit form__submit",n.value="Get Wheather",n.addEventListener("click",(async n=>{if(e(".form").checkValidity()){n.preventDefault();try{const n=await async function(e){return(await fetch(t.getUrl(e))).json()}(e("#entryLocation").value);null!==e(".infoCard")&&e(".infoCard").remove(),null!==e(".weekInfoSection")&&e(".weekInfoSection").remove(),document.querySelector("input[type='checkbox']").checked=!1,o.isCelsius=!1,a((e=>{const{currentConditions:t,resolvedAddress:n}=e,a=document.createElement("div");return a.className="infoCard card",a.appendChild(i("h2","infoCard__title",`Today's Forecast: ${n}`)),a.appendChild(document.createElement("hr")),a.appendChild(c(t)),a})(n)),a((e=>{const t=document.createElement("div"),{days:n}=e;t.className="weekInfoSection card",t.appendChild(i("h2","infoCard__title weekInfoSection__title","Week Forecast"));for(let e=0;e<8;e++)t.appendChild(document.createElement("hr")),t.appendChild(d(n[e]));return t})(n))}catch(e){}}})),n})()),n},h=()=>{const e=document.createElement("label");return e.className="switch",e.appendChild((()=>{const e=document.createElement("input");return e.type="checkbox",e.id="unit-toggle",e.addEventListener("change",(()=>{let e;document.querySelectorAll(".temp__unit").forEach((t=>{var n,a;e=o.isCelsius?(a=Number(t.textContent),1.8*a+32).toFixed(1):(n=Number(t.textContent),5/9*(n-32)).toFixed(1),t.textContent=e})),o.isCelsius=!o.isCelsius})),e})()),e.appendChild((()=>{const e=document.createElement("span");return e.className="slider",e})()),e};a((()=>{const e=document.createElement("div");return e.className="container card",e.appendChild(i("h1","title titleH1 main__title","Wheather Forecast")),e.appendChild(((e="form")=>{const t=document.createElement("form");return t.className=e,t.appendChild(C()),t.appendChild((()=>{const e=document.createElement("div");return e.className="toggle",e.appendChild(h()),e.appendChild((()=>{const e=document.createElement("span");return e.textContent="Â°F / Â°C",e})()),e})()),t})()),e})()),function(){const e=n.body;window.addEventListener("scroll",(()=>{e.style.backgroundPositionY=+window.scrollY/1.3+"px"}))}()})();